(function(s,n,r,u,d,S,y,P){"use strict";const R=n.findByStoreName("SelectedChannelStore"),b=n.findByStoreName("ChannelStore"),B=n.findByProps("jumpToMessage"),{openUrl:f}=n.findByProps("openUrl");function A(){const t=R.getChannelId(),e=b.getChannel(t);B.jumpToMessage({channelId:e.id,messageId:e.id,flash:!0,jumpType:"ANIMATED"})}function $(t,e){f(`https://discord.com/channels/${t}/${e}/${e}`)}function v(t,e){f(`https://discord.com/channels/${t}/${e}/${e}`)}const o=y.storage;function E(){o.jumpToPresent??=!0,o.actionSheets??=!0}const{ActionSheetRow:i}=n.findByProps("ActionSheetRow"),w=n.findByName("ForumPostLongPressActionSheet",!1),j=n.findByName("ChannelLongPressActionSheet",!1);function p(t){return S.findInReactTree(t,function(e){return e?.[0]?.type?.name==="ActionSheetRowGroup"})}function h(t){return React.createElement(i.Group,null,React.createElement(i,{label:"Jump To Top",icon:React.createElement(r.ReactNative.View,{style:{transform:[{scaleY:-1}]}},React.createElement(i.Icon,{source:d.getAssetIDByName("ArrowLargeDownIcon")})),onPress:t}))}function I(){const t=[];return t.push(u.after("default",w,function([{thread:e}],c){if(!o.actionSheets)return;const a=p(c);a&&a.unshift(h(function(){return v(e.guild_id,e.id)}))})),t.push(u.after("default",j,function(e,c){if(!o.actionSheets)return;const a=c?.props?.channel;a&&a.defaultForumLayout==null&&u.after("type",c,function(x,U){const g=p(U);g&&g.unshift(h(function(){return $(a.guild_id??"@me",a.id)}))})})),function(){for(const e of t)e()}}const C=n.findByProps("Stack","Button","Text"),{IconButton:N}=C;function L(){return React.createElement(r.ReactNative.View,{style:{transform:[{scaleY:-1}]}},React.createElement(N,{onPress:A,variant:"secondary",icon:d.getAssetIDByName("ArrowLargeDownIcon")}))}const J=n.findByName("JumpToPresentButton",!1),D=n.findByProps("Stack","Button","Text"),{Stack:k}=D,m=Symbol("Patched by JumpToTop");function V(){return u.after("default",J,function(t,e){if(!o.jumpToPresent||e==null||e[m])return;const c=e.props?.children;e[m]=!0,e.props.children=r.React.createElement(k,null,r.React.createElement(L,null),c)})}const M=n.findByProps("Stack","Button"),{Stack:O,TableRowGroup:_,TableSwitchRow:T}=M;function F(){return P.useProxy(o),React.createElement(O,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(_,{title:"Settings"},React.createElement(T,{label:"Add button to chats.",subLabel:"Add the JumpToTop button above the Jump to Present button in chats.",value:o.jumpToPresent,onValueChange:function(t){return o.jumpToPresent=t}}),React.createElement(T,{label:"Add button to action sheets.",subLabel:"Add the JumpToTop button to channel and forum action sheets.",value:o.actionSheets,onValueChange:function(t){return o.actionSheets=t}})))}const l=[];var G={onLoad(){E(),l.push(V()),l.push(I())},onUnload(){for(const t of l)t()},settings:F};return s.default=G,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.storage);
